import*as n from"react";import e,{useRef as t,useEffect as o,useState as r,Component as i,useContext as a}from"react";import{generateUtilityClasses as c,generateUtilityClass as s,styled as u,Alert as l,useThemeProps as d,unstable_composeClasses as p,AlertTitle as f,Slide as m,capitalize as h,useTheme as v,ClickAwayListener as g,Collapse as k}from"@mui/material";import y from"clsx";import*as E from"react-dom";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var b=function(n,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},b(n,e)};var x=function(){return x=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},x.apply(this,arguments)};function C(n,e){var t={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(t[o]=n[o]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(n);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(t[o[r]]=n[o[r]])}return t}function S(n,e,t){if(t||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function w(n){return s("MuiSnackbarContent",n)}c("MuiSnackbarContent",["root","message","action"]);var O=u(l,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:function(n,e){return e.root}})((function(n){var e,t=n.theme;return n.ownerState,x(x({},t.typography.body2),((e={display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:t.shape.borderRadius,flexGrow:1})[t.breakpoints.up("sm")]={flexGrow:"initial",minWidth:288},e))})),D=u("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:function(n,e){return e.message}})({}),T=n.forwardRef((function(e,t){var o=d({props:e,name:"MuiSnackbarContent"}),r=o.action,i=o.className,a=o.message,c=o.title,s=o.role,u=void 0===s?"alert":s,l=C(o,["action","className","message","title","role"]),m=o,h=function(n){var e=n.classes;return p({root:["root"],action:["action"],message:["message"]},w,e)}(m);return n.createElement(O,x({role:u,severity:"error",className:y(h.root,i),ownerState:m,action:r,ref:t},l),c&&n.createElement(f,null,c),n.createElement(D,{className:h.message,ownerState:m},a))})),I=n.createContext({enqueueSnackbar:function(){return-1},closeSnackbar:function(){}}),M={maxSnack:3,dense:!1,hideIconVariant:!1,variant:"default",autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:m,transitionDuration:{enter:225,exit:195}},R={TIMEOUT:"timeout",CLICKAWAY:"clickaway",MAXSNACK:"maxsnack",INSTRUCTED:"instructed",ESC:"escapeKeyDown"},P=function(n){return"number"==typeof n||null===n};function N(n,e,t){return void 0===n&&(n={}),void 0===e&&(e={}),void 0===t&&(t={}),x(x(x({},t),e),n)}var A=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},q=function(n){return!!n||0===n},z={default:20,dense:4},L={default:6,dense:2},H="& > .MuiCollapse-container, & > .MuiCollapse-root",j="& > .MuiCollapse-container > .MuiCollapse-wrapper, & > .MuiCollapse-root > .MuiCollapse-wrapper",V="SnackbarContainer",_={root:"".concat(V,"-root"),rootDense:"".concat(V,"-rootDense"),top:"".concat(V,"-top"),bottom:"".concat(V,"-bottom"),left:"".concat(V,"-left"),right:"".concat(V,"-right"),center:"".concat(V,"-center")},B=u("div")((function(n){var e,t,o,r,i,a,c=n.theme;return(e={})["&.".concat(_.root)]=((t={boxSizing:"border-box",display:"flex",flexDirection:"column",maxHeight:"100%",position:"fixed",zIndex:c.zIndex.snackbar,height:"auto",width:"auto",transition:"top 300ms ease 0ms, right 300ms ease 0ms, bottom 300ms ease 0ms, left 300ms ease 0ms, margin 300ms ease 0ms, max-width 300ms ease 0ms",pointerEvents:"none"})[H]={pointerEvents:"all"},t[j]={padding:"".concat(L.default,"px 0px"),transition:"padding 300ms ease 0ms"},t.maxWidth="calc(100% - ".concat(2*z.default,"px)"),t[c.breakpoints.down("sm")]={width:"100%",maxWidth:"calc(100% - ".concat(32,"px)")},t),e["&.".concat(_.rootDense)]=((o={})[j]={padding:"".concat(L.dense,"px 0px")},o),e["&.".concat(_.top)]={top:z.default-L.default,flexDirection:"column"},e["&.".concat(_.bottom)]={bottom:z.default-L.default,flexDirection:"column-reverse"},e["&.".concat(_.left)]=((r={left:z.default})[c.breakpoints.up("sm")]={alignItems:"flex-start"},r[c.breakpoints.down("sm")]={left:"".concat(16,"px")},r),e["&.".concat(_.right)]=((i={right:z.default})[c.breakpoints.up("sm")]={alignItems:"flex-end"},i[c.breakpoints.down("sm")]={right:"".concat(16,"px")},i),e["&.".concat(_.center)]=((a={left:"50%",transform:"translateX(-50%)"})[c.breakpoints.up("sm")]={alignItems:"center"},a),e})),W=n.memo((function(e){var t,o=e.className,r=e.anchorOrigin,i=e.dense,a=C(e,["className","anchorOrigin","dense"]),c=y(_[r.vertical],_[r.horizontal],((t={})[_.rootDense]=i,t),_.root,o);return n.createElement(B,x({className:c},a))}));function U(n,e){return n.reduce(((n,t)=>null==t?n:("production"!==process.env.NODE_ENV&&"function"!=typeof t&&console.error("Invalid Argument Type. must only provide functions, undefined, or null."),function(...o){const r=[...o];e&&-1===r.indexOf(e)&&r.push(e),n.apply(this,r),t.apply(this,r)})),(()=>{}))}const K="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;function X(e){const t=n.useRef(e);return K((()=>{t.current=e})),n.useCallback(((...n)=>(0,t.current)(...n)),[])}function F(n){return s("MuiSnackbar",n)}c("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);var Q=u("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:function(n,e){var t=n.ownerState;return[e.root,e["anchorOrigin".concat(h(t.anchorOrigin.vertical)).concat(h(t.anchorOrigin.horizontal))]]}})((function(n){var e,t=n.theme,o=n.ownerState,r=x(x({},!o.isRtl&&{left:"50%",right:"auto",transform:"translateX(-50%)"}),o.isRtl&&{right:"50%",left:"auto",transform:"translateX(50%)"});return x(x(x({zIndex:t.zIndex.snackbar,position:"relative",display:"flex",left:8,right:8,height:"auto",justifyContent:"center",alignItems:"center"},"left"===o.anchorOrigin.horizontal&&{justifyContent:"flex-start"}),"right"===o.anchorOrigin.horizontal&&{justifyContent:"flex-end"}),((e={})[t.breakpoints.up("sm")]=x(x(x({},"center"===o.anchorOrigin.horizontal&&r),"left"===o.anchorOrigin.horizontal&&x(x({},!o.isRtl&&{left:24,right:"auto"}),o.isRtl&&{right:24,left:"auto"})),"right"===o.anchorOrigin.horizontal&&x(x({},!o.isRtl&&{right:24,left:"auto"}),o.isRtl&&{left:24,right:"auto"})),e))})),G=n.forwardRef((function(e,r){var i=d({props:e,name:"MuiSnackbar"}),a=v(),c={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},s=i.action,u=i.closeable,l=i.hideIconVariant,f=i.anchorOrigin,k=void 0===f?{vertical:"bottom",horizontal:"left"}:f,E=k.vertical,b=k.horizontal,S=i.content,w=i.autoHideDuration,O=void 0===w?null:w,D=i.className,I=i.disableWindowBlurListener,M=void 0!==I&&I,P=i.message,N=i.onBlur,A=i.onClose,q=i.onFocus,z=i.open,L=i.resumeHideDuration,H=i.TransitionComponent,j=void 0===H?m:H,V=i.transitionDuration,_=void 0===V?c:V,B=i.onMouseEnter,W=i.onMouseLeave,U=i.TransitionProps,K=U.onEnter,G=U.onExited,Y=C(U,["onEnter","onExited"]),J=i.ClickAwayListenerProps,Z=i.ContentProps,$=C(i,["action","closeable","hideIconVariant","anchorOrigin","content","autoHideDuration","className","disableWindowBlurListener","message","onBlur","onClose","onFocus","open","resumeHideDuration","TransitionComponent","transitionDuration","onMouseEnter","onMouseLeave","TransitionProps","ClickAwayListenerProps","ContentProps"]),nn="rtl"===a.direction,en=x(x({},i),{anchorOrigin:{vertical:E,horizontal:b},isRtl:nn}),tn=function(n){var e=n.classes,t=n.anchorOrigin,o={root:["root","anchorOrigin".concat(h(t.vertical)).concat(h(t.horizontal))]};return p(o,F,e)}(en),on=t(),rn=n.useState(!0),an=rn[0],cn=rn[1],sn=X((function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];A&&A.apply(void 0,n)})),un=X((function(n){A&&null!=n&&(clearTimeout(on.current),on.current=setTimeout((function(){sn(null,"timeout")}),n))}));o((function(){return z&&un(O),function(){clearTimeout(on.current)}}),[z,O,un]);var ln=function(){clearTimeout(on.current)},dn=n.useCallback((function(){null!=O&&un(null!=L?L:.5*O)}),[O,L,un]);return o((function(){if(!M&&z)return window.addEventListener("focus",dn),window.addEventListener("blur",ln),function(){window.removeEventListener("focus",dn),window.removeEventListener("blur",ln)}}),[M,dn,z]),o((function(){if(z)return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)};function n(n){n.defaultPrevented||"Escape"!==n.key&&"Esc"!==n.key||A&&A(n,R.ESC)}}),[an,z,A]),!z&&an?null:n.createElement(g,x({onClickAway:function(n){A&&A(n,"clickaway")}},J),n.createElement(Q,x({className:y(tn.root,D),onBlur:function(n){N&&N(n),dn()},onFocus:function(n){q&&q(n),ln()},onMouseEnter:function(n){B&&B(n),ln()},onMouseLeave:function(n){W&&W(n),dn()},ownerState:en,ref:r},$),n.createElement(j,x({appear:!0,in:z,timeout:_,direction:"top"===E?"down":"up",onEnter:function(n,e){cn(!1),K&&K(n,e)},onExited:function(n){cn(!0),G&&G(n)}},Y),S||n.createElement(T,x({message:P,action:s,icon:l||(null==Z?void 0:Z.icon)},Z,{onClose:u?function(n){return sn(n,R.INSTRUCTED)}:void 0})))))})),Y={right:"left",left:"right",bottom:"up",top:"down"},J=e.forwardRef((function(n,i){var a=t(),c=d({props:n,name:"SnackbarItem"}),s=c.TransitionComponent,u=c.content,l=c.action,p=c.TransitionProps,f=c.transitionDuration,m=c.ariaAttributes,h=c.snack;h.persist,h.entered,h.requestClose;var v=h.closeable,g=h.hideIconVariant,y=h.className,E=h.content,b=h.ariaAttributes,S=h.TransitionComponent,w=h.TransitionProps,O=h.transitionDuration,D=h.action;h.onEnter,h.onEntered,h.onEntering,h.onExit,h.onExited,h.onExiting;var T,I=h.contentProps,P=C(h,["persist","entered","requestClose","closeable","hideIconVariant","className","content","ariaAttributes","TransitionComponent","TransitionProps","transitionDuration","action","onEnter","onEntered","onEntering","onExit","onExited","onExiting","contentProps"]),A=S||s||M.TransitionComponent,q=N(O,f,M.transitionDuration),z=x({direction:(T=h.anchorOrigin,"center"!==T.horizontal?Y[T.horizontal]:Y[T.vertical])},N(w,p)),L=D||l;"function"==typeof L&&(L=L(h.key));var H=E||u;"function"==typeof H&&(H=H(h.key,h.message,h.variant));var j=x({"aria-describedby":"rmess-snackbar"},N(b,m)),V=["onEnter","onEntering","onEntered","onExit","onExiting","onExited"].reduce((function(n,e){var t;return x(x({},n),((t={})[e]=U([c.snack[e],c[e]],c.snack.key),t))}),{}),_=U([h.onClose,c.onClose],h.key),B=r(!0),W=B[0],K=B[1];o((function(){return function(){a.current&&clearTimeout(a.current)}}),[]);var X=x(x({},I),{severity:(null==I?void 0:I.severity)?I.severity:"default"===h.variant?"info":h.variant}),F=x(x({},P),{action:L,content:H,TransitionComponent:A,transitionDuration:q,role:"alert"}),Q=x(x({},z),{onEnter:V.onEnter,onEntered:U([V.onEntered,function(){c.snack.requestClose&&_(null,R.INSTRCUTED)}]),onEntering:V.onEntering,onExit:V.onExiting,onExited:function(){a.current=setTimeout((function(){K(!W)}),125)},onExiting:V.onExiting});return e.createElement(k,{unmountOnExit:!0,timeout:175,in:W,onExited:V.onExited},e.createElement(G,x({},F,j,{closeable:v,hideIconVariant:g,className:y,onClose:_,ClickAwayListenerProps:{},ContentProps:X,TransitionProps:Q})))})),Z=function(n){function t(e){var t=n.call(this,e)||this;return t.handleEnteredSnack=function(n,e,o){if(!q(o))throw new Error("handleEnteredSnack Cannot be called with undefined key");t.setState((function(n){return{snacks:n.snacks.map((function(n){return n.key===o?x(x({},n),{entered:!0}):x({},n)}))}}))},t.handleCloseSnack=function(n,e,o){if(t.props.onClose&&t.props.onClose(n,e,o),e!==R.CLICKAWAY){var r=void 0===o;t.setState((function(n){var e=n.snacks,t=n.queue;return{snacks:e.map((function(n){return r||n.key===o?n.entered?x(x({},n),{open:!1}):x(x({},n),{requestClose:!0}):n})),queue:t.filter((function(n){return n.key!==o}))}}))}},t.closeSnackbar=function(n){var e=t.state.snacks.find((function(e){return e.key===n}));q(n)&&e&&e.onClose&&e.onClose(null,R.INSTRUCTED,n),t.handleCloseSnack(null,R.INSTRUCTED,n)},t.handleExitedSnack=function(n,e,o){var r=e||o;if(!q(r))throw new Error("handleExitedSnack Cannot be called with undefined key");t.setState((function(n){var e=t.processQueue(x(x({},n),{snacks:n.snacks.filter((function(n){return n.key!==r}))}));return 0===e.queue.length?e:t.handleDismissOldest(e)}))},t.processQueue=function(n){var e=n.queue,t=n.snacks;return e.length>0?x(x({},n),{snacks:S(S([],t,!0),[e[0]],!1),queue:e.slice(1,e.length)}):n},t.handleDismissOldest=function(n){if(n.snacks.some((function(n){return!n.open||n.requestClose})))return n;var e=!1,o=!1;n.snacks.reduce((function(n,e){return n+(e.open&&e.persist?1:0)}),0)===t.maxSnack&&(o=!0);var r=n.snacks.map((function(n){return e||n.persist&&!o?x({},n):(e=!0,n.entered?(n.onClose&&n.onClose(null,R.MAXSNACK,n.key),t.props.onClose&&t.props.onClose(null,R.MAXSNACK,n.key),x(x({},n),{open:!1})):x(x({},n),{requestClose:!0}))}));return x(x({},n),{snacks:r})},t.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:t.enqueueSnackbar.bind(t),closeSnackbar:t.closeSnackbar.bind(t)}},t.handleCloseSnack.bind(t),t}return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}b(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(t,n),Object.defineProperty(t.prototype,"maxSnack",{get:function(){return this.props.maxSnack||M.maxSnack},enumerable:!1,configurable:!0}),t.prototype.enqueueSnackbar=function(n,e){var t,o,r,i=this,a=e.key,c=e.preventDuplicate,s=C(e,["key","preventDuplicate"]),u=q(a),l=u?a:(new Date).getTime()+Math.random(),d=(t=e,o=this.props,r=M,function(n){return"autoHideDuration"===n?P(t.autoHideDuration)?t.autoHideDuration:P(o.autoHideDuration)?o.autoHideDuration:M.autoHideDuration:"boolean"==typeof t[n]||"boolean"===o[n]?void 0!==t[n]?t[n]:o[n]:t[n]||o[n]||r[n]}),p={key:l,message:n,open:!0,entered:!1,requestClose:!1,variant:d("variant"),anchorOrigin:d("anchorOrigin"),autoHideDuration:d("autoHideDuration"),contentProps:d("contentProps"),content:d("content"),action:e.action,hideIconVariant:d("hideIconVariant"),closeable:d("closeable")};return s.persist&&(p.autoHideDuration=void 0),this.setState((function(e){if(void 0===c||c){var t=function(e){return u?e.key===a:e.message===n},o=e.queue.findIndex(t)>-1,r=e.snacks.findIndex(t)>-1;if(o||r)return e}return i.handleDisplaySnack(x(x({},e),{queue:S(S([],e.queue,!0),[p],!1)}))})),l},t.prototype.handleDisplaySnack=function(n){return n.snacks.length>=this.maxSnack?this.handleDismissOldest(n):this.processQueue(n)},t.prototype.render=function(){var n=this,t=this.props,o=t.children,r=t.domRoot;t.preventDuplicate,t.variant,t.anchorOrigin;t.hideIconVariant;t.iconMapping;var i=t.dense;t.maxSnack;var a=C(t,["children","domRoot","preventDuplicate","variant","anchorOrigin","hideIconVariant","iconMapping","dense","maxSnack"]),c=this.state.contextValue,s=this.state.snacks.reduce((function(n,e){var t,o,r=(o=e.anchorOrigin,"".concat(A(o.vertical)).concat(A(o.horizontal))),i=n[r]||[];return x(x({},n),((t={})[r]=S(S([],i,!0),[e],!1),t))}),{}),u=Object.keys(s).map((function(t){var o=s[t];return e.createElement(W,{key:t,dense:i,anchorOrigin:o[0].anchorOrigin},o.map((function(t){return e.createElement(J,x({},a,{key:t.key,snack:t,onClose:n.handleCloseSnack,onExited:U([n.handleExitedSnack,n.props.onExited]),onEntered:U([n.handleEnteredSnack,n.props.onEntered])}))})))}));return e.createElement(I.Provider,{value:c},o,r?E.createPortal(u,r):u)},t}(i),$=function(){return a(I)};export{T as SnackbarContent,Z as SnackbarProvider,$ as useSnackbar};
