import*as n from"react";import e,{useRef as t,useEffect as o,useState as r,Component as i,useContext as a}from"react";import{generateUtilityClasses as c,generateUtilityClass as s,styled as u,Alert as l,useThemeProps as d,unstable_composeClasses as f,AlertTitle as p,Slide as m,capitalize as h,useTheme as v,ClickAwayListener as g,Collapse as k,ThemeProvider as E,createTheme as y}from"@mui/material";import b from"clsx";import*as x from"react-dom";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var C=function(n,e){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},C(n,e)};var S=function(){return S=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},S.apply(this,arguments)};function w(n,e){var t={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(t[o]=n[o]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(n);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(t[o[r]]=n[o[r]])}return t}function O(n,e,t){if(t||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function D(n){return s("MuiSnackbarContent",n)}c("MuiSnackbarContent",["root","message","action"]);var T=u(l,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:function(n,e){return e.root}})((function(n){var e,t=n.theme;return n.ownerState,S(S({},t.typography.body2),((e={display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:t.shape.borderRadius,flexGrow:1})[t.breakpoints.up("sm")]={flexGrow:"initial",minWidth:288},e))})),I=u("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:function(n,e){return e.message}})({}),M=n.forwardRef((function(e,t){var o=d({props:e,name:"MuiSnackbarContent"}),r=o.action,i=o.className,a=o.message,c=o.title,s=o.role,u=void 0===s?"alert":s,l=w(o,["action","className","message","title","role"]),m=o,h=function(n){var e=n.classes;return f({root:["root"],action:["action"],message:["message"]},D,e)}(m);return n.createElement(T,S({role:u,severity:"error",className:b(h.root,i),ownerState:m,action:r,ref:t},l),c&&n.createElement(p,null,c),n.createElement(I,{className:h.message,ownerState:m},a))})),P=n.createContext({enqueueSnackbar:function(){return-1},closeSnackbar:function(){}}),R={maxSnack:3,dense:!1,hideIconVariant:!1,variant:"default",autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:m,transitionDuration:{enter:225,exit:195}},A={TIMEOUT:"timeout",CLICKAWAY:"clickaway",MAXSNACK:"maxsnack",INSTRUCTED:"instructed",ESC:"escapeKeyDown"},N=function(n){return"number"==typeof n||null===n};function q(n,e,t){return void 0===n&&(n={}),void 0===e&&(e={}),void 0===t&&(t={}),S(S(S({},t),e),n)}var z=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},L=function(n){return!!n||0===n},j={default:20,dense:4},H={default:6,dense:2},V="& > .MuiCollapse-container, & > .MuiCollapse-root",_="& > .MuiCollapse-container > .MuiCollapse-wrapper, & > .MuiCollapse-root > .MuiCollapse-wrapper",B="SnackbarContainer",W={root:"".concat(B,"-root"),rootDense:"".concat(B,"-rootDense"),top:"".concat(B,"-top"),bottom:"".concat(B,"-bottom"),left:"".concat(B,"-left"),right:"".concat(B,"-right"),center:"".concat(B,"-center")},U=u("div")((function(n){var e,t,o,r,i,a,c=n.theme;return(e={})["&.".concat(W.root)]=((t={boxSizing:"border-box",display:"flex",flexDirection:"column",maxHeight:"100%",position:"fixed",zIndex:c.zIndex.snackbar,height:"auto",width:"auto",transition:"top 300ms ease 0ms, right 300ms ease 0ms, bottom 300ms ease 0ms, left 300ms ease 0ms, margin 300ms ease 0ms, max-width 300ms ease 0ms",pointerEvents:"none"})[V]={pointerEvents:"all"},t[_]={padding:"".concat(H.default,"px 0px"),transition:"padding 300ms ease 0ms"},t.maxWidth="calc(100% - ".concat(2*j.default,"px)"),t[c.breakpoints.down("sm")]={width:"100%",maxWidth:"calc(100% - ".concat(32,"px)")},t),e["&.".concat(W.rootDense)]=((o={})[_]={padding:"".concat(H.dense,"px 0px")},o),e["&.".concat(W.top)]={top:j.default-H.default,flexDirection:"column"},e["&.".concat(W.bottom)]={bottom:j.default-H.default,flexDirection:"column-reverse"},e["&.".concat(W.left)]=((r={left:j.default})[c.breakpoints.up("sm")]={alignItems:"flex-start"},r[c.breakpoints.down("sm")]={left:"".concat(16,"px")},r),e["&.".concat(W.right)]=((i={right:j.default})[c.breakpoints.up("sm")]={alignItems:"flex-end"},i[c.breakpoints.down("sm")]={right:"".concat(16,"px")},i),e["&.".concat(W.center)]=((a={left:"50%",transform:"translateX(-50%)"})[c.breakpoints.up("sm")]={alignItems:"center"},a),e})),K=n.memo((function(e){var t,o=e.className,r=e.anchorOrigin,i=e.dense,a=w(e,["className","anchorOrigin","dense"]),c=b(W[r.vertical],W[r.horizontal],((t={})[W.rootDense]=i,t),W.root,o);return n.createElement(U,S({className:c},a))}));function X(n,e){return n.reduce(((n,t)=>null==t?n:("production"!==process.env.NODE_ENV&&"function"!=typeof t&&console.error("Invalid Argument Type. must only provide functions, undefined, or null."),function(...o){const r=[...o];e&&-1===r.indexOf(e)&&r.push(e),n.apply(this,r),t.apply(this,r)})),(()=>{}))}const F="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;function Q(e){const t=n.useRef(e);return F((()=>{t.current=e})),n.useCallback(((...n)=>(0,t.current)(...n)),[])}function G(n){return s("MuiSnackbar",n)}c("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);var Y=u("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:function(n,e){var t=n.ownerState;return[e.root,e["anchorOrigin".concat(h(t.anchorOrigin.vertical)).concat(h(t.anchorOrigin.horizontal))]]}})((function(n){var e,t=n.theme,o=n.ownerState,r=S(S({},!o.isRtl&&{left:"50%",right:"auto",transform:"translateX(-50%)"}),o.isRtl&&{right:"50%",left:"auto",transform:"translateX(50%)"});return S(S(S({zIndex:t.zIndex.snackbar,position:"relative",display:"flex",left:8,right:8,height:"auto",justifyContent:"center",alignItems:"center"},"left"===o.anchorOrigin.horizontal&&{justifyContent:"flex-start"}),"right"===o.anchorOrigin.horizontal&&{justifyContent:"flex-end"}),((e={})[t.breakpoints.up("sm")]=S(S(S({},"center"===o.anchorOrigin.horizontal&&r),"left"===o.anchorOrigin.horizontal&&S(S({},!o.isRtl&&{left:24,right:"auto"}),o.isRtl&&{right:24,left:"auto"})),"right"===o.anchorOrigin.horizontal&&S(S({},!o.isRtl&&{right:24,left:"auto"}),o.isRtl&&{left:24,right:"auto"})),e))})),J=n.forwardRef((function(e,r){var i=d({props:e,name:"MuiSnackbar"}),a=v(),c={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},s=i.action,u=i.closeable,l=i.hideIconVariant,p=i.anchorOrigin,k=void 0===p?{vertical:"bottom",horizontal:"left"}:p,E=k.vertical,y=k.horizontal,x=i.content,C=i.autoHideDuration,O=void 0===C?null:C,D=i.className,T=i.disableWindowBlurListener,I=void 0!==T&&T,P=i.message,R=i.onBlur,N=i.onClose,q=i.onFocus,z=i.open,L=i.resumeHideDuration,j=i.TransitionComponent,H=void 0===j?m:j,V=i.transitionDuration,_=void 0===V?c:V,B=i.onMouseEnter,W=i.onMouseLeave,U=i.TransitionProps,K=U.onEnter,X=U.onExited,F=w(U,["onEnter","onExited"]),J=i.ClickAwayListenerProps,Z=i.ContentProps,$=w(i,["action","closeable","hideIconVariant","anchorOrigin","content","autoHideDuration","className","disableWindowBlurListener","message","onBlur","onClose","onFocus","open","resumeHideDuration","TransitionComponent","transitionDuration","onMouseEnter","onMouseLeave","TransitionProps","ClickAwayListenerProps","ContentProps"]),nn="rtl"===a.direction,en=S(S({},i),{anchorOrigin:{vertical:E,horizontal:y},isRtl:nn}),tn=function(n){var e=n.classes,t=n.anchorOrigin,o={root:["root","anchorOrigin".concat(h(t.vertical)).concat(h(t.horizontal))]};return f(o,G,e)}(en),on=t(),rn=n.useState(!0),an=rn[0],cn=rn[1],sn=Q((function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];N&&N.apply(void 0,n)})),un=Q((function(n){N&&null!=n&&(clearTimeout(on.current),on.current=setTimeout((function(){sn(null,"timeout")}),n))}));o((function(){return z&&un(O),function(){clearTimeout(on.current)}}),[z,O,un]);var ln=function(){clearTimeout(on.current)},dn=n.useCallback((function(){null!=O&&un(null!=L?L:.5*O)}),[O,L,un]);return o((function(){if(!I&&z)return window.addEventListener("focus",dn),window.addEventListener("blur",ln),function(){window.removeEventListener("focus",dn),window.removeEventListener("blur",ln)}}),[I,dn,z]),o((function(){if(z)return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)};function n(n){n.defaultPrevented||"Escape"!==n.key&&"Esc"!==n.key||N&&N(n,A.ESC)}}),[an,z,N]),!z&&an?null:n.createElement(g,S({onClickAway:function(n){N&&N(n,"clickaway")}},J),n.createElement(Y,S({className:b(tn.root,D),onBlur:function(n){R&&R(n),dn()},onFocus:function(n){q&&q(n),ln()},onMouseEnter:function(n){B&&B(n),ln()},onMouseLeave:function(n){W&&W(n),dn()},ownerState:en,ref:r},$),n.createElement(H,S({appear:!0,in:z,timeout:_,direction:"top"===E?"down":"up",onEnter:function(n,e){cn(!1),K&&K(n,e)},onExited:function(n){cn(!0),X&&X(n)}},F),x||n.createElement(M,S({message:P,action:s,icon:l||(null==Z?void 0:Z.icon)},Z,{onClose:u?function(n){return sn(n,A.INSTRUCTED)}:void 0})))))})),Z={right:"left",left:"right",bottom:"up",top:"down"},$=e.forwardRef((function(n,i){var a=t(),c=d({props:n,name:"SnackbarItem"}),s=c.TransitionComponent,u=c.content,l=c.action,f=c.TransitionProps,p=c.transitionDuration,m=c.ariaAttributes,h=c.snack;h.persist,h.entered,h.requestClose;var v=h.closeable,g=h.hideIconVariant,E=h.className,y=h.content,b=h.ariaAttributes,x=h.TransitionComponent,C=h.TransitionProps,O=h.transitionDuration,D=h.action;h.onEnter,h.onEntered,h.onEntering,h.onExit,h.onExited,h.onExiting;var T,I=h.contentProps,M=w(h,["persist","entered","requestClose","closeable","hideIconVariant","className","content","ariaAttributes","TransitionComponent","TransitionProps","transitionDuration","action","onEnter","onEntered","onEntering","onExit","onExited","onExiting","contentProps"]),P=x||s||R.TransitionComponent,N=q(O,p,R.transitionDuration),z=S({direction:(T=h.anchorOrigin,"center"!==T.horizontal?Z[T.horizontal]:Z[T.vertical])},q(C,f)),L=D||l;"function"==typeof L&&(L=L(h.key));var j=y||u;"function"==typeof j&&(j=j(h.key,h.message,h.variant));var H=S({"aria-describedby":"rmess-snackbar"},q(b,m)),V=["onEnter","onEntering","onEntered","onExit","onExiting","onExited"].reduce((function(n,e){var t;return S(S({},n),((t={})[e]=X([c.snack[e],c[e]],c.snack.key),t))}),{}),_=X([h.onClose,c.onClose],h.key),B=r(!0),W=B[0],U=B[1];o((function(){return function(){a.current&&clearTimeout(a.current)}}),[]);var K=S(S({},I),{severity:(null==I?void 0:I.severity)?I.severity:"default"===h.variant?"info":h.variant}),F=S(S({},M),{action:L,content:j,TransitionComponent:P,transitionDuration:N,role:"alert"}),Q=S(S({},z),{onEnter:V.onEnter,onEntered:X([V.onEntered,function(){c.snack.requestClose&&_(null,A.INSTRCUTED)}]),onEntering:V.onEntering,onExit:V.onExiting,onExited:function(){a.current=setTimeout((function(){U(!W)}),125)},onExiting:V.onExiting});return e.createElement(k,{unmountOnExit:!0,timeout:175,in:W,onExited:V.onExited},e.createElement(J,S({},F,H,{closeable:v,hideIconVariant:g,className:E,onClose:_,ClickAwayListenerProps:{},ContentProps:K,TransitionProps:Q})))})),nn=function(n){function t(e){var t=n.call(this,e)||this;return t.handleEnteredSnack=function(n,e,o){if(!L(o))throw new Error("handleEnteredSnack Cannot be called with undefined key");t.setState((function(n){return{snacks:n.snacks.map((function(n){return n.key===o?S(S({},n),{entered:!0}):S({},n)}))}}))},t.handleCloseSnack=function(n,e,o){if(t.props.onClose&&t.props.onClose(n,e,o),e!==A.CLICKAWAY){var r=void 0===o;t.setState((function(n){var e=n.snacks,t=n.queue;return{snacks:e.map((function(n){return r||n.key===o?n.entered?S(S({},n),{open:!1}):S(S({},n),{requestClose:!0}):n})),queue:t.filter((function(n){return n.key!==o}))}}))}},t.closeSnackbar=function(n){var e=t.state.snacks.find((function(e){return e.key===n}));L(n)&&e&&e.onClose&&e.onClose(null,A.INSTRUCTED,n),t.handleCloseSnack(null,A.INSTRUCTED,n)},t.handleExitedSnack=function(n,e,o){var r=e||o;if(!L(r))throw new Error("handleExitedSnack Cannot be called with undefined key");t.setState((function(n){var e=t.processQueue(S(S({},n),{snacks:n.snacks.filter((function(n){return n.key!==r}))}));return 0===e.queue.length?e:t.handleDismissOldest(e)}))},t.processQueue=function(n){var e=n.queue,t=n.snacks;return e.length>0?S(S({},n),{snacks:O(O([],t,!0),[e[0]],!1),queue:e.slice(1,e.length)}):n},t.handleDismissOldest=function(n){if(n.snacks.some((function(n){return!n.open||n.requestClose})))return n;var e=!1,o=!1;n.snacks.reduce((function(n,e){return n+(e.open&&e.persist?1:0)}),0)===t.maxSnack&&(o=!0);var r=n.snacks.map((function(n){return e||n.persist&&!o?S({},n):(e=!0,n.entered?(n.onClose&&n.onClose(null,A.MAXSNACK,n.key),t.props.onClose&&t.props.onClose(null,A.MAXSNACK,n.key),S(S({},n),{open:!1})):S(S({},n),{requestClose:!0}))}));return S(S({},n),{snacks:r})},t._defaultTheme=y({palette:{mode:"light"}}),t.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:t.enqueueSnackbar.bind(t),closeSnackbar:t.closeSnackbar.bind(t)},theme:e.theme||t.defaultTheme},t.handleCloseSnack.bind(t),t}return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}C(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(t,n),Object.defineProperty(t.prototype,"maxSnack",{get:function(){return this.props.maxSnack||R.maxSnack},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultTheme",{get:function(){return this._defaultTheme},set:function(n){this._defaultTheme=n},enumerable:!1,configurable:!0}),t.prototype.enqueueSnackbar=function(n,e){var t,o,r,i=this,a=e.key,c=e.preventDuplicate,s=w(e,["key","preventDuplicate"]),u=L(a),l=u?a:(new Date).getTime()+Math.random(),d=(t=e,o=this.props,r=R,function(n){return"autoHideDuration"===n?N(t.autoHideDuration)?t.autoHideDuration:N(o.autoHideDuration)?o.autoHideDuration:R.autoHideDuration:"boolean"==typeof t[n]||"boolean"===o[n]?void 0!==t[n]?t[n]:o[n]:t[n]||o[n]||r[n]}),f={key:l,message:n,open:!0,entered:!1,requestClose:!1,variant:d("variant"),anchorOrigin:d("anchorOrigin"),autoHideDuration:d("autoHideDuration"),contentProps:d("contentProps"),content:d("content"),action:e.action,hideIconVariant:d("hideIconVariant"),closeable:d("closeable")};return s.persist&&(f.autoHideDuration=void 0),this.setState((function(e){if(void 0===c||c){var t=function(e){return u?e.key===a:e.message===n},o=e.queue.findIndex(t)>-1,r=e.snacks.findIndex(t)>-1;if(o||r)return e}return i.handleDisplaySnack(S(S({},e),{queue:O(O([],e.queue,!0),[f],!1)}))})),l},t.prototype.handleDisplaySnack=function(n){return n.snacks.length>=this.maxSnack?this.handleDismissOldest(n):this.processQueue(n)},t.prototype.show=function(n,e){var t=e.theme,o=w(e,["theme"]);return t&&t!==this.state.theme&&this.setState((function(n){return S(S({},n),{theme:t})})),this.enqueueSnackbar(n,o)},t.prototype.render=function(){var n=this,t=this.props,o=t.children,r=t.domRoot;t.preventDuplicate,t.variant,t.anchorOrigin;t.hideIconVariant;t.iconMapping;var i=t.dense;t.maxSnack,t.onClose,t.onExited,t.onEntered;var a=t.theme,c=w(t,["children","domRoot","preventDuplicate","variant","anchorOrigin","hideIconVariant","iconMapping","dense","maxSnack","onClose","onExited","onEntered","theme"]),s=this.state,u=s.contextValue,l=s.theme,d=this.state.snacks.reduce((function(n,e){var t,o,r=(o=e.anchorOrigin,"".concat(z(o.vertical)).concat(z(o.horizontal))),i=n[r]||[];return S(S({},n),((t={})[r]=O(O([],i,!0),[e],!1),t))}),{}),f=Object.keys(d).map((function(t){var o=d[t];return e.createElement(K,{key:t,dense:i,anchorOrigin:o[0].anchorOrigin},o.map((function(t){return e.createElement($,S({},c,{key:t.key,snack:t,onClose:n.handleCloseSnack,onExited:X([n.handleExitedSnack,n.props.onExited]),onEntered:X([n.handleEnteredSnack,n.props.onEntered])}))})))}));return e.createElement(E,{theme:l||a||this.defaultTheme},e.createElement(P.Provider,{value:u},o,r?x.createPortal(f,r):f))},t}(i);nn.newInstance=function(n,t,o){var r=n;r?document.body.appendChild(n):((r=document.createElement("div")).setAttribute("id","snackbar-container"),document.body.appendChild(r)),x.render(e.createElement(nn,{ref:function(n){n&&t(n)}}),r)};var en,tn,on=function(){return a(P)};var rn={show:function(n,e){var t;t=function(t){return t.show(n,S(S({},tn),e))},en?t(en):nn.newInstance(null,(function(n){t(en||(en=n))}))},config:function(n){tn=n}};["error","info","success","warning"].forEach((function(n){rn[n]=function(e,t){return rn.show(e,S(S({},t),{variant:n}))}}));export{M as SnackbarContent,nn as SnackbarProvider,rn as rmessageAPI,on as useSnackbar};
